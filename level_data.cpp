#include "level_data.hpp"
#include <cstdlib>
#include <ctime>

// 5x5 Levels (Saturation Limit = 2)
const std::vector<level_grid> level_data::levels_5x5 = {
    {5, 5, {
        {1, -1, -1, -1, -1, 1}, 
        {-1, 2, 1, -1, 2, 1}, 
        {-1, -1, 2, -1, 2, -1},
        {1, -1, -1, 2, 3, -1}, 
        {1, 1, 2, -1, -1, -1}, 
        {-1, 1, -1, 1, 1, -1}
    }, 2}, 
    {5, 5, {
        {-1, -1, -1, -1, -1, -1}, 
        {-1, 4, -1, -1, 3, -1}, 
        {-1, -1, 2, 4, -1, -1},
        {1, 2, -1, -1, -1, 0}, 
        {-1, -1, 3, 2, -1, -1}, 
        {0, -1, -1, -1, -1, -1}
    }, 2},
    {5, 5, {
        {-1, -1, 2, -1, -1, 1}, 
        {-1, 3, 2, -1, 3, 1}, 
        {-1, 1, -1, 3, 3, -1},
        {1, -1, -1, -1, -1, -1}, 
        {1, 3, -1, 1, 2, -1}, 
        {-1, -1, -1, -1, 0, -1}
    }, 2}
};

// 8x8 Levels (Saturation Limit = 4)
const std::vector<level_grid> level_data::levels_8x8 = {
    {8, 8, {
        {-1, 1, 0, -1, 2, -1, 2, 1, -1}, 
        {-1, -1, -1, -1, -1, 2, -1, -1, 1},
        {-1, -1, 2, 3, -1, 2, -1, 3, -1}, 
        {-1, 3, 2, -1, 1, 3, 1, 2, -1},
        {-1, -1, -1, 1, -1, -1, -1, -1, -1}, 
        {2, -1, 2, 1, 3, -1, -1, -1, 1},
        {0, -1, 1, -1, -1, -1, 4, -1, -1}, 
        {1, 2, 3, -1, -1, 3, 2, -1, -1},
        {-1, 1, -1, -1, 1, -1, -1, 2, -1}
    }, 4}, 
    {8, 8, {
        {-1, 1, -1, 0, -1, -1, 0, 2, -1}, 
        {2, -1, 2, 3, -1, -1, -1, 2, -1},
        {-1, -1, 3, 3, -1, 1, -1, -1, -1}, 
        {0, -1, -1, -1, -1, 2, 3, -1, -1},
        {2, -1, -1, 2, 1, 3, 1, 1, -1}, 
        {-1, -1, 3, -1, -1, -1, 2, 1, -1},
        {-1, 2, -1, 3, 3, -1, -1, -1, -1}, 
        {1, -1, -1, 2, 2, -1, 1, -1, -1},
        {1, 1, -1, 1, 0, -1, 1, -1, 1}
    }, 4}
};

level_grid level_data::get_random_level(int size) {
    static bool seeded = false;
    if(!seeded) {
        srand(time(0));
        seeded = true;
    }
    
    if(size == 5) {
        int idx = rand() % levels_5x5.size();
        return levels_5x5[idx];
    } else {
        int idx = rand() % levels_8x8.size();
        return levels_8x8[idx];
    }
}